alias userSP R3;
alias physicalSP R4;
alias data R5;

userSP = SP;

physicalSP = [PTBR +  ( userSP / 512 ) * 2] * 512 + (userSP % 512);

data = [[PTBR+2*(userSP-3)/512]*512+(userSP-3)%512];

print(data);

[[PTBR+2*(userSP-1)/512]*512+(userSP-1)%512] = 0;

ireturn;
